<!DOCTYPE html
PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<title>Тестова страница</title>

	<!-- BASE LISTS -->
	<style type="text/css">
	body {
		margin:0;
		padding:0;
		font-family:Verdana;
		font-size:10px;
		background:#ebebeb;
	}
	p.buttons {
		margin:10px auto;
		width:500px;
	}
	p.buttons span {
		border:2px outset silver;
		background:white;
		line-height:20px;
		padding: 0 4px;
		font-weight:bold;
	}
	.demo {
		border:0;
		margin:10px auto;
		width:30%;
		height:500px;
		background:white;
		border:1px solid gray;
		float:left;
		margin:0 0 0 2.3%;
		_display:inline;
	}
	.demo div {
		margin:0 1px;
		padding:0;
		height:480px;
		overflow:auto;
	}
	.demo .title {
		margin:0;
		height:16px;
		line-height:15px;
		background:gray;
		color:white;
		font-variant:small-caps;
		font-family:"Courier New";
		font-size:12px;
		font-weight:bold;
		text-indent:10px;
	}

	.tree li a {
		background-image:url("images/f.png");
	}
	#predef li a {
		background-image:url("images/globe.png");
	}
	</style>

	<!-- BASE SCRIPTS -->
	<script type="text/javascript" src="../jsTree/css.js"></script>
	<script type="text/javascript" src="../jsTree/sarissa.js"></script>
	<script type="text/javascript" src="../jsTree/sarissa_ieemu_xpath.js"></script>
	<script type="text/javascript" src="../jsTree/jquery.js"></script>
	<script type="text/javascript" src="../jsTree/jquery.xslt.js"></script>
	<script type="text/javascript" src="../jsTree/jquery.listen.js"></script>
	<script type="text/javascript" src="../jsTree/jquery.metadata.js"></script>

	<!-- COMPONENTS -->
	<link rel="stylesheet" type="text/css" href="../jsTree/tree_component.css" />
	<script type="text/javascript" src="../jsTree/tree_component.js"></script>

	<!-- NOT REQUIRED -->
	<script type="text/javascript" src="jquery.hotkeys.js"></script>
	<script type="text/javascript" src="jquery.log.js"></script>

	<!-- INITIALIZE -->
	<script type="text/javascript">
		$(function() {
			tree1 = new tree_component();
			tree1.init($("#nested"),{ 
				data		: "nested.xml", 
				xsl			: "nested.xsl", 
				dflt		: "#site_24",
				dots		: true,
				languages	: [ "en", "bg" ],
				//metadata	: "data",
				metadata	: false,
				rules		: {
					//use_inline	: true,
					use_inline	: false,
					clickable	: "all",
					draggable	: "all",
					dragrules	: "all",
					deletable	: "none"/*
					dragrules	: [
						"folder after folder",
						"folder before folder",
						"folder inside folder"
					]*/
				},
				callback	: {
					onopen		: function(NODE) { },
					onchange	: function(NODE) { },
					onbeforechange	: function() { },
					onrename	: function(NODE) { },
					onmove		: function(NODE,REF_NODE,TYPE) { },
					oncreate	: function(NODE,REF_NODE,TYPE) { },
					onmove		: function(NODE) { },
					onopen		: function(NODE) { },
					onclose		: function(NODE) { }
				}
			});

			tree2 = new tree_component();
			tree2.init($("#json"),{ 
				path		: "jsTree/",
				data		:	{ 
									attributes: { id : "node_1" , rel : "drive" }, 
									data: "C:", 
									icons: "images/hd.png",
									children: [
										{ 
											attributes: { id : "node_2" , rel : "folder" }, 
											data: "Documents and settings", 
											children: [
												{ 
													attributes: { id : "node_6" , rel : "adm" }, 
													data: "Administrator",
													icons: "images/locked.png"
												},
												{ 
													attributes: { id : "node_3" , rel : "folder" }, 
													data: "All Users"
												},
												{ 
													attributes: { id : "node_7" , rel : "folder" }, 
													data: "George"
												}
											] 
										},
										{ 
											attributes: { id : "node_5" , rel : "adm" }, 
											data: "Program files",
											icons: "images/locked.png"
										},
										{ 
											attributes: { id : "node_4", rel : "adm" }, 
											data: "Windows",
											icons: "images/locked.png"
										}
									] 
								},
				dflt		: "#node_2",
				dots		: true,
				rules		: {
					clickable	: ["folder", "drive"],
					draggable	: ["folder"],
					dragrules	: ["folder after folder", "folder before folder", "folder inside folder", "folder after adm", "folder before adm"],
					deletable	: ["folder"]
				}
			});
			tree3 = new tree_component();
			tree3.init($("#predef"));
			/*
			$("#box")
				.bind("mouseover", function () { $(this).removeClass("no_dots"); } )
				.bind("mouseout", function () { $(this).addClass("no_dots"); } );
				*/
			$.hotkeys.add('f2',		{ disableInInput: true },	function() { tree1.rename(); });
			$.hotkeys.add('n',		{ disableInInput: true },	function() { tree1.create(); });
			$.hotkeys.add('d',		{ disableInInput: true },	function() { tree1.remove(); });
			$.hotkeys.add('l',		{ disableInInput: true },	function() { tree1.cycle_lang(); });
			$.hotkeys.add('r',		{ disableInInput: true },	function() { tree1.refresh(); });
			$.hotkeys.add('up',		{ disableInInput: true },	function() { tree1.get_prev(); });
			$.hotkeys.add('down',	{ disableInInput: true },	function() { tree1.get_next(); });
			$.hotkeys.add('left',	{ disableInInput: true },	function() { tree1.get_left(); });
			$.hotkeys.add('right',	{ disableInInput: true },	function() { tree1.get_right(); });
		});
	</script>
</head>
<body>
	<p class='buttons'>
		<span>f2</span> rename&nbsp;&nbsp;
		<span>n</span> new category&nbsp;&nbsp;
		<span>d</span> delete category&nbsp;&nbsp;
		<span>l</span> cycle languages&nbsp;&nbsp;
		<span>r</span> refresh<br />
		* You could also use arrow keys to navigate.
	</p>
	<div class="demo">
		<div class="title">predefined HTML</div>
		<div id="predef" class="no_dots">
			<ul>
				<li id="predef_1" class="open">
					<a href="#">Link 1</a>
					<ul>
						<li id="predef_2"><a href="#">Link 2</a></li>
						<li id="predef_3"><a href="#">Link 3</a></li>
						<li id="predef_4"><a href="#">Link 4</a>
							<ul>
								<li id="predef_5"><a href="#">Link 5</a></li>
								<li id="predef_6"><a href="#">Link 6</a></li>
								<li id="predef_7"><a href="#">Link 7</a>
							</ul>
						</li>
						<li id="predef_8"><a href="#">Link 5</a></li>
						<li id="predef_9"><a href="#">Link 6</a></li>
					</ul>
				</li>
			</ul>
		</div>
	</div>
	<div class="demo">
		<div class="title">nested XML</div>
		<div id="nested">
		</div>
	</div>
	<div class="demo">
		<div class="title">JSON</div>
		<div id="json">
		</div>
	</div>
</body>
</html>
